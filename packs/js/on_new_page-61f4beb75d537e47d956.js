!function(e){var t={};function n(o){if(t[o])return t[o].exports;var c=t[o]={i:o,l:!1,exports:{}};return e[o].call(c.exports,c,c.exports,n),c.l=!0,c.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)n.d(o,c,function(t){return e[t]}.bind(null,c));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/packs/",n(n.s=12)}({12:function(e,t,n){"use strict";n.r(t);var o=function(e){e.classList.toggle("tlk-section-on"),e.classList.toggle("tlk-section-off")},c=document.querySelector("#tlk-toggle-edit"),a=document.querySelectorAll(".tlk-toggle-edit"),i=document.querySelector("#tlk-section-edit"),r=document.querySelector("#tlk-section-read"),l=function(){a.forEach((function(e){e.addEventListener("click",(function(e){s(),o(i),o(r)}))}))},s=function(){"Edit Taaalk Details"==c.innerText?(c.innerText="Exit Edit Mode",c.classList.add("edit-mode-on")):(c.innerText="Edit Taaalk Details",c.classList.remove("edit-mode-on"))},u=document.querySelectorAll(".copy-with-click"),d=function(e){if(document.selection){var t=document.body.createTextRange();t.moveToElementText(document.getElementById(e)),t.select()}else if(window.getSelection){var n=document.createRange();n.selectNode(document.getElementById(e)),window.getSelection().removeAllRanges(),window.getSelection().addRange(n)}},v=document.querySelectorAll("input[type=text]"),m=function(){v.forEach((function(e){var t=e.value;e.addEventListener("keyup",(function(n){var o=e.getAttribute("target"),c=document.querySelector("#".concat(o)),a=document.querySelector("#p-".concat(o));if(e.value!==t){if(c.value.match(/\(Done\)/)){var i=c.value.match(/(.*)( \(Done\))/)[1];c.value=i}c.classList.add("normal-unsaved"),a.classList.remove("tlk-p-nochange"),a.classList.add("tlk-p-unsaved"),c.addEventListener("click",(function(t){e.value;c.classList.remove("normal-unsaved"),c.value.match(/\(Done\)/)||(c.value+=" (Done)"),a.classList.remove("tlk-p-unsaved"),a.classList.add("tlk-p-nochange")}))}else c.classList.contains("radio-unsaved")||c.classList.contains("rta-unsaved")||c.classList.contains("image-unsaved")||(c.classList.remove("normal-unsaved"),a.classList.remove("tlk-p-unsaved"),a.classList.add("tlk-p-nochange"))}))}))},f=document.querySelectorAll("trix-editor"),p=function(){f.forEach((function(e){var t=e.innerHTML;e.addEventListener("keyup",(function(n){var o=e.getAttribute("target"),c=document.querySelector("#".concat(o)),a=document.querySelector("#p-".concat(o)),i=e.value.split(/(<div>)(.*)/);if("".concat(i[1],"\x3c!--block--\x3e").concat(i[2])!==t){if(c.value.match(/\(Done\)/)){var r=c.value.match(/(.*)( \(Done\))/)[1];c.value=r}c.classList.add("rta-unsaved"),a&&(a.classList.remove("tlk-p-nochange"),a.classList.add("tlk-p-unsaved")),c.addEventListener("click",(function(t){e.value;c.value.match(/\(Done\)/)||(c.value+=" (Done)"),c.classList.remove("rta-unsaved"),a&&(a.classList.remove("tlk-p-unsaved"),a.classList.add("tlk-p-nochange"))}))}else c.classList.contains("radio-unsaved")||c.classList.contains("normal-unsaved")||c.classList.contains("image-unsaved")||(c.classList.remove("rta-unsaved"),a&&(a.classList.remove("tlk-p-unsaved"),a.classList.add("tlk-p-nochange")))}))}))},g=document.querySelectorAll("input[type=file]"),L=function(){g.forEach((function(e){var t=e.value;e.addEventListener("change",(function(n){var o=e.getAttribute("target"),c=document.querySelector("#".concat(o)),a=document.querySelector("#p-".concat(o));if(e.value!==t){if(c.value.match(/\(Done\)/)){var i=c.value.match(/(.*)( \(Done\))/)[1];c.value=i}c.classList.add("image-unsaved"),a.classList.remove("tlk-p-nochange"),a.classList.add("tlk-p-unsaved"),c.addEventListener("click",(function(t){c.value.match(/\(Done\)/)||(c.value+=" (Done)");e.value;c.classList.remove("image-unsaved"),a.classList.remove("tlk-p-unsaved"),a.classList.add("tlk-p-nochange")}))}else c.classList.contains("radio-unsaved")||c.classList.contains("normal-unsaved")||c.classList.contains("rta-unsaved")||(c.classList.remove("image-unsaved"),a.classList.remove("tlk-p-unsaved"),a.classList.add("tlk-p-nochange"))}))}))},h=document.querySelectorAll(".spkr-color-scroll"),k=function(){h.forEach((function(e){var t=e.getAttribute("target"),n=document.querySelector("#".concat(t)),o=document.querySelector("#p-".concat(t));e.querySelectorAll("input[type=radio]").forEach((function(e){var t="";t=e.checked?e.value:"",e.addEventListener("change",(function(c){if(e.value!==t){if(n.value.match(/\(Done\)/)){var a=n.value.match(/(.*)( \(Done\))/)[1];n.value=a}n.classList.add("radio-unsaved"),o.classList.remove("tlk-p-nochange"),o.classList.add("tlk-p-unsaved"),n.addEventListener("click",(function(t){n.value.match(/\(Done\)/)||(n.value+=" (Done)");e.value;n.classList.remove("radio-unsaved"),o.classList.remove("tlk-p-unsaved"),o.classList.add("tlk-p-nochange")}))}else n.classList.contains("normal-unsaved")||n.classList.contains("rta-unsaved")||n.classList.contains("image-unsaved")||(n.classList.remove("radio-unsaved"),o.classList.remove("tlk-p-unsaved"),o.classList.add("tlk-p-nochange"))}))}))}))},y=document.querySelectorAll(".tlk-invited-login"),S=document.querySelectorAll(".tlk-invited-signup"),b=document.querySelector(".tlk-login"),q=document.querySelector(".tlk-signup"),E=document.querySelector("#tlk-invited-note-login"),T=document.querySelector("#tlk-invited-note-signup");console.log([y,S]);var x=[y,S].flat();console.log(x);var M=document.querySelectorAll(".tlk-leave"),A=function(){M.forEach((function(e){var t=e.getAttribute("target");e.addEventListener("click",(function(e){var n=document.querySelector("#".concat(t));o(n)}))}))},H=new Event("keyup"),D=document.createEvent("Event");D.initEvent("keypress"),D.which=D.keyCode=13;var w=document.querySelectorAll(".trix-content"),j=function(){w.forEach((function(e){e.addEventListener("trix-file-accept",(function(t){var n=!0;t.file.size>36e6&&(t.preventDefault(),alert("Only support attachment of images that are smaller than that!"),n=!1);["image/jpeg","image/png","image/jpg"].includes(t.file.type)||(t.preventDefault(),alert("Only support attachment of jpg, jpeg or png files"),n=!1),n&&setTimeout((function(){var t=document.querySelector(".attachment__progress");t.style="height: 100px; background: red;",console.log(t.value);var n=setInterval((function(){t.value>98&&(_(),clearInterval(n),setTimeout((function(){e.dispatchEvent(H)}),750))}),50)}),50)}))}))},O=document.querySelectorAll(".spkr-msg-form"),_=function(){O.forEach((function(e){var t=e.querySelector("trix-editor");e.querySelector('[name="msg[content]"]');setTimeout((function(){t.dispatchEvent(H)}),500)}))},Y=document.querySelectorAll(".tlk-draft"),C=document.querySelectorAll(".trix-content"),P=new Event("keyup"),B=function(e){Y.forEach((function(e){C.forEach((function(t){var n=t.getAttribute("target");e.id=="".concat(n,"-draft")&&(t.innerHTML=e.innerHTML),document.querySelector(".navbar").focus,setTimeout((function(){t.dispatchEvent(P)}),400)}))}))},I=document.querySelectorAll(".rta"),R=function(){I.forEach((function(e){var t=e.querySelector(".trix-content"),n=e.getElementsByTagName("input");n[1].value=t.innerHTML,t.addEventListener("keyup",(function(e){n[1].value=t.innerHTML}))}))},U=function(){document.querySelectorAll('input[type="file"]').forEach((function(e){e.addEventListener("change",(function(t){var n=e.value.match(/[^\\]*\.(jpg|png|gif|tif)/i)[0],o=e.getAttribute("target");document.querySelector("#".concat(o,"-file-name-div")).innerHTML="\u2705 ".concat(n,' <br><strong>Press "Update" Button to Confirm</strong>')}))}))},N=function(){document.querySelectorAll(".spkr-msg-form").forEach((function(e){var t=e.querySelector("trix-editor"),n=(e.querySelector('[name="msg[content]"]'),e.querySelector('[name="msg[safe_content]"]')),o=e.querySelector('[name="msg[draft_string]"]'),c='<div class="tlk-bubble-holder"><div class="tlk-bubble">',a=e.querySelector(".msg-preview"),i=t.getAttribute("target");$('[target="'.concat(i,'"]')).bind("input keyup",(function(){setTimeout((function(){var e=!1,i=[],r=t.querySelectorAll("div, pre, h1, blockquote, ul, ol");if(!r[0]){i.push(c,t.innerHTML,"</div></div>"),e=!0;var l=i.flat(1/0).join("").replace(/<div class="tlk-bubble-holder"><div class="tlk-bubble"><\/div><\/div>/g,"");a.innerHTML=l,n.value=l,o.value=t.innerHTML}e||r.forEach((function(e){var r=e.outerHTML.match(/<pre>[\s\S]*?<\/pre>/),l=e.outerHTML.match(/<blockquote>[\s\S]*?<\/blockquote>/),s=e.outerHTML.match(/<ul>[\s\S]*?<\/ul>/),u=e.outerHTML.match(/<ol>[\s\S]*?<\/ol>/),d=e.outerHTML.match(/<h1>[\s\S]*?<\/h1>/),v=e.outerHTML.match(/(?:<br>)([\s\S]*?)(?=<br>)/g),m=e.outerHTML.match(/<br>(?![\s\S]*<br>[\s\S]*$)([\s\S]*?)(?:<\/div>)/),f=e.outerHTML.match(/(?:<!--block-->)([\s\S]*?)(?=<br>)/),p=e.outerHTML.match(/(?:<!--block-->)([\s\S]*?)(?=<\/div>)/);r?i.push(c,r[0],"</div></div>"):l?i.push(c,l[0],"</div></div>"):s?i.push(c,s[0],"</div></div>"):u?i.push(c,u[0],"</div></div>"):d?i.push(c,d[0],"</div></div>"):v?(i.push(c,f[1],"</div></div>"),v.forEach((function(e){if(e){var t=e.match(/(<br>)(.*)/);i.push(c,t[2],"</div></div>")}})),m&&i.push(c,m[1],"</div></div>")):f?(i.push(c,f[1],"</div></div>"),m&&i.push(c,m[1],"</div></div>")):p&&i.push(c,p[1],"</div></div>");var g=i.flat(1/0).join("").replace(/<div class="tlk-bubble-holder"><div class="tlk-bubble"><\/div><\/div>/g,"");a.innerHTML=g,n.value=g,o.value=t.innerHTML})),""!=t.value&&'<div class="tlk-bubble-holder"></div>'!=t.value||(a.innerHTML="<p>Your message preview will appear here.</p>")}),250)}))}))},z=document.querySelector("#create-spkr-user-edit-form-btn"),G=document.querySelector("#create-spkr-user-edit-form"),F=function(){if('Leave Your Details &nbsp;<i class="fas fa-pencil-alt"></i>'==z.innerHTML){z.innerText="Close"}else if('Update Your Details &nbsp;<i class="fas fa-pencil-alt"></i>'==z.innerHTML){z.innerText="Close"}else z.classList.contains("leave-class")?z.innerHTML='Leave Your Details &nbsp;<i class="fas fa-pencil-alt"></i>':z.innerHTML='Update Your Details &nbsp;<i class="fas fa-pencil-alt"></i>'},J=document.querySelector("#tlk-toggle-edit"),K=document.querySelectorAll(".tlk-toggle-edit"),Q=document.querySelector("#tlk-section-edit"),V=document.querySelector("#tlk-section-read"),W=function(){"Edit Your Details / Log Out"==J.innerText?(J.innerText="Exit Edit Mode",J.classList.add("edit-mode-on")):(J.innerText="Edit Your Details / Log Out",J.classList.remove("edit-mode-on"))},X=document.querySelectorAll(".trix-content"),Z=new Event("keyup"),ee=document.querySelectorAll(".spkr-color-show-more"),te=function(){ee.forEach((function(e){var t=e.getAttribute("target");e.addEventListener("click",(function(n){document.querySelector("#".concat(t)).classList.toggle("spkr-color-scroll-short"),"See more colors..."==e.innerText?e.innerText="See less":e.innerText="See more colors..."}))}))},ne=document.querySelector("#meta").content;"tlks-show-edit"==ne&&(l(),u.forEach((function(e){e.addEventListener("click",(function(t){var n=e.getAttribute("target");d(n),document.execCommand("copy"),e.style="color: #00CD4B;"}))})),m(),A(),L(),p(),j(),B(),R(),U(),N(),k(),te()),"tlks-show-invited"==ne&&(y.forEach((function(e){e.addEventListener("click",(function(e){o(b),o(q),o(E),o(T)}))})),S.forEach((function(e){e.addEventListener("click",(function(e){o(b),o(q),o(E),o(T)}))}))),"tlks-show-spkr"==ne&&(l(),m(),p(),A(),L(),j(),B(),R(),N(),U(),k(),te()),"tlks-index"==ne&&function(){var e=document.querySelector("#index-what-btn"),t=document.querySelector("#index-background-color"),n=document.querySelector("#tlk-intro-container");document.querySelector("#index-top-small-blue-split"),document.querySelector(".index-border-btm-container");e.addEventListener("click",(function(o){if("Learn More"==e.innerHTML?(e.classList.add("got-it-mode-on"),e.classList.remove("edit-mode-on"),e.innerHTML="Got It"):(e.classList.add("edit-mode-on"),e.classList.remove("got-it-mode-on"),e.innerHTML="Learn More"),n.classList.contains("index-hide-intro")){n.classList.remove("index-hide-intro");var c=document.querySelector("#bubble-390");c.clientHeight>60&&(c.style="max-width: 264px;"),t.classList.add("index-background-color-big"),t.classList.remove("index-background-color-small")}else n.classList.add("index-hide-intro"),t.classList.add("index-background-color-small"),t.classList.remove("index-background-color-big")}))}(),"tlks-new"==ne&&(L(),m(),p(),U(),z.addEventListener("click",(function(e){F(),o(G)}))),"users-show-edit"==ne&&(K.forEach((function(e){e.addEventListener("click",(function(e){W(),o(Q),o(V)}))})),U()),"msgs-edit-edit"==ne&&(N(),console.log("hello"),X.forEach((function(e){setTimeout((function(){e.dispatchEvent(Z)}),50)})),j())}});
//# sourceMappingURL=on_new_page-61f4beb75d537e47d956.js.map