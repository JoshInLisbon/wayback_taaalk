!function(e){var t={};function n(o){if(t[o])return t[o].exports;var c=t[o]={i:o,l:!1,exports:{}};return e[o].call(c.exports,c,c.exports,n),c.l=!0,c.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)n.d(o,c,function(t){return e[t]}.bind(null,c));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/packs/",n(n.s=12)}({12:function(e,t,n){"use strict";n.r(t);var o=function(e){e.classList.toggle("tlk-section-on"),e.classList.toggle("tlk-section-off")},c=document.querySelector("#tlk-toggle-edit"),a=document.querySelectorAll(".tlk-toggle-edit"),r=document.querySelector("#tlk-section-edit"),i=document.querySelector("#tlk-section-read"),l=function(){a.forEach((function(e){e.addEventListener("click",(function(e){s(),o(r),o(i)}))}))},s=function(){"Edit Taaalk Details"==c.innerText?(c.innerText="Exit Edit Mode",c.classList.add("edit-mode-on")):(c.innerText="Edit Taaalk Details",c.classList.remove("edit-mode-on"))},u=document.querySelectorAll(".copy-with-click"),d=function(e){if(document.selection){var t=document.body.createTextRange();t.moveToElementText(document.getElementById(e)),t.select()}else if(window.getSelection){var n=document.createRange();n.selectNode(document.getElementById(e)),window.getSelection().removeAllRanges(),window.getSelection().addRange(n)}},v=document.querySelectorAll("input[type=text]"),m=function(){v.forEach((function(e){var t=e.value;e.addEventListener("keyup",(function(n){var o=e.getAttribute("target"),c=document.querySelector("#".concat(o)),a=document.querySelector("#p-".concat(o));if(e.value!==t){if(c.value.match(/\(Done\)/)){var r=c.value.match(/(.*)( \(Done\))/)[1];c.value=r}c.classList.add("normal-unsaved"),a.classList.remove("tlk-p-nochange"),a.classList.add("tlk-p-unsaved"),c.addEventListener("click",(function(t){e.value;c.classList.remove("normal-unsaved"),c.value.match(/\(Done\)/)||(c.value+=" (Done)"),a.classList.remove("tlk-p-unsaved"),a.classList.add("tlk-p-nochange")}))}else c.classList.contains("radio-unsaved")||c.classList.contains("rta-unsaved")||c.classList.contains("image-unsaved")||(c.classList.remove("normal-unsaved"),a.classList.remove("tlk-p-unsaved"),a.classList.add("tlk-p-nochange"))}))}))},f=document.querySelectorAll("trix-editor"),p=function(){f.forEach((function(e){var t=e.innerHTML;e.addEventListener("keyup",(function(n){var o=e.getAttribute("target"),c=document.querySelector("#".concat(o)),a=document.querySelector("#p-".concat(o)),r=e.value.split(/(<div>)(.*)/);if("".concat(r[1],"\x3c!--block--\x3e").concat(r[2])!==t){if(c.value.match(/\(Done\)/)){var i=c.value.match(/(.*)( \(Done\))/)[1];c.value=i}c.classList.add("rta-unsaved"),a&&(a.classList.remove("tlk-p-nochange"),a.classList.add("tlk-p-unsaved")),c.addEventListener("click",(function(t){e.value;c.value.match(/\(Done\)/)||(c.value+=" (Done)"),c.classList.remove("rta-unsaved"),a&&(a.classList.remove("tlk-p-unsaved"),a.classList.add("tlk-p-nochange"))}))}else c.classList.contains("radio-unsaved")||c.classList.contains("normal-unsaved")||c.classList.contains("image-unsaved")||(c.classList.remove("rta-unsaved"),a&&(a.classList.remove("tlk-p-unsaved"),a.classList.add("tlk-p-nochange")))}))}))},g=document.querySelectorAll("input[type=file]"),L=function(){g.forEach((function(e){var t=e.value;e.addEventListener("change",(function(n){var o=e.getAttribute("target"),c=document.querySelector("#".concat(o)),a=document.querySelector("#p-".concat(o));if(e.value!==t){if(c.value.match(/\(Done\)/)){var r=c.value.match(/(.*)( \(Done\))/)[1];c.value=r}c.classList.add("image-unsaved"),a.classList.remove("tlk-p-nochange"),a.classList.add("tlk-p-unsaved"),c.addEventListener("click",(function(t){c.value.match(/\(Done\)/)||(c.value+=" (Done)");e.value;c.classList.remove("image-unsaved"),a.classList.remove("tlk-p-unsaved"),a.classList.add("tlk-p-nochange")}))}else c.classList.contains("radio-unsaved")||c.classList.contains("normal-unsaved")||c.classList.contains("rta-unsaved")||(c.classList.remove("image-unsaved"),a.classList.remove("tlk-p-unsaved"),a.classList.add("tlk-p-nochange"))}))}))},h=document.querySelectorAll(".spkr-color-scroll"),y=function(){h.forEach((function(e){var t=e.getAttribute("target"),n=document.querySelector("#".concat(t)),o=document.querySelector("#p-".concat(t));e.querySelectorAll("input[type=radio]").forEach((function(e){var t="";t=e.checked?e.value:"",e.addEventListener("change",(function(c){if(e.value!==t){if(n.value.match(/\(Done\)/)){var a=n.value.match(/(.*)( \(Done\))/)[1];n.value=a}n.classList.add("radio-unsaved"),o.classList.remove("tlk-p-nochange"),o.classList.add("tlk-p-unsaved"),n.addEventListener("click",(function(t){n.value.match(/\(Done\)/)||(n.value+=" (Done)");e.value;n.classList.remove("radio-unsaved"),o.classList.remove("tlk-p-unsaved"),o.classList.add("tlk-p-nochange")}))}else n.classList.contains("normal-unsaved")||n.classList.contains("rta-unsaved")||n.classList.contains("image-unsaved")||(n.classList.remove("radio-unsaved"),o.classList.remove("tlk-p-unsaved"),o.classList.add("tlk-p-nochange"))}))}))}))},k=document.querySelectorAll(".tlk-invited-login"),S=document.querySelectorAll(".tlk-invited-signup"),b=document.querySelector(".tlk-login"),q=document.querySelector(".tlk-signup"),E=document.querySelector("#tlk-invited-note-login"),T=document.querySelector("#tlk-invited-note-signup");console.log([k,S]);var x=[k,S].flat();console.log(x);var w=document.querySelectorAll(".tlk-leave"),M=function(){w.forEach((function(e){var t=e.getAttribute("target");e.addEventListener("click",(function(e){var n=document.querySelector("#".concat(t));o(n)}))}))},A=new Event("keyup"),H=document.createEvent("Event");H.initEvent("keypress"),H.which=H.keyCode=13;var D=document.querySelectorAll(".trix-content"),j=function(){D.forEach((function(e){e.addEventListener("trix-file-accept",(function(t){var n=!0;t.file.size>36e6&&(t.preventDefault(),alert("Only support attachment of images that are smaller than that!"),n=!1);["image/jpeg","image/png","image/jpg"].includes(t.file.type)||(t.preventDefault(),alert("Only support attachment of jpg, jpeg or png files"),n=!1),n&&setTimeout((function(){var t=document.querySelector(".attachment__progress");t.style="height: 100px; background: red;",console.log(t.value);var n=setInterval((function(){t.value>98&&(O(),clearInterval(n),setTimeout((function(){e.dispatchEvent(A)}),750))}),50)}),50)}))}))},_=document.querySelectorAll(".spkr-msg-form"),O=function(){_.forEach((function(e){var t=e.querySelector("trix-editor");e.querySelector('[name="msg[content]"]');setTimeout((function(){t.dispatchEvent(A)}),500)}))},C=document.querySelectorAll(".tlk-draft"),I=document.querySelectorAll(".trix-content"),Y=new Event("keyup"),P=function(e){C.forEach((function(e){I.forEach((function(t){var n=t.getAttribute("target");e.id=="".concat(n,"-draft")&&(t.innerHTML=e.innerHTML),document.querySelector(".navbar").focus,setTimeout((function(){t.dispatchEvent(Y)}),400)}))}))},R=document.querySelectorAll(".rta"),B=function(){R.forEach((function(e){var t=e.querySelector(".trix-content"),n=e.getElementsByTagName("input");n[1].value=t.innerHTML,t.addEventListener("keyup",(function(e){n[1].value=t.innerHTML}))}))},U=function(){document.querySelectorAll('input[type="file"]').forEach((function(e){e.addEventListener("change",(function(t){var n=e.value.match(/[^\\]*\.(jpg|png|gif|tif)/i)[0],o=e.getAttribute("target");document.querySelector("#".concat(o,"-file-name-div")).innerHTML="\u2705 ".concat(n,' <br><strong>Press "Update" Button to Confirm</strong>')}))}))},N=function(){document.querySelectorAll(".spkr-msg-form").forEach((function(e){var t=e.querySelector("trix-editor"),n=(e.querySelector('[name="msg[content]"]'),e.querySelector('[name="msg[safe_content]"]')),o=e.querySelector('[name="msg[draft_string]"]'),c='<div class="tlk-bubble-holder"><div class="tlk-bubble">',a=e.querySelector(".msg-preview"),r=t.getAttribute("target");$('[target="'.concat(r,'"]')).bind("input keyup",(function(){setTimeout((function(){var e=!1,r=[],i=t.querySelectorAll("div, pre, h1, blockquote, ul, ol");if(!i[0]){r.push(c,t.innerHTML,"</div></div>"),e=!0;var l=r.flat(1/0).join("").replace(/<div class="tlk-bubble-holder"><div class="tlk-bubble"><\/div><\/div>/g,"");a.innerHTML=l,n.value=l,o.value=t.innerHTML}e||i.forEach((function(e){var i=e.outerHTML.match(/<pre>[\s\S]*?<\/pre>/),l=e.outerHTML.match(/<blockquote>[\s\S]*?<\/blockquote>/),s=e.outerHTML.match(/<ul>[\s\S]*?<\/ul>/),u=e.outerHTML.match(/<ol>[\s\S]*?<\/ol>/),d=e.outerHTML.match(/<h1>[\s\S]*?<\/h1>/),v=e.outerHTML.match(/(?:<br>)([\s\S]*?)(?=<br>)/g),m=e.outerHTML.match(/<br>(?![\s\S]*<br>[\s\S]*$)([\s\S]*?)(?:<\/div>)/),f=e.outerHTML.match(/(?:<!--block-->)([\s\S]*?)(?=<br>)/),p=e.outerHTML.match(/(?:<!--block-->)([\s\S]*?)(?=<\/div>)/);i?r.push(c,i[0],"</div></div>"):l?r.push(c,l[0],"</div></div>"):s?r.push(c,s[0],"</div></div>"):u?r.push(c,u[0],"</div></div>"):d?r.push(c,d[0],"</div></div>"):v?(r.push(c,f[1],"</div></div>"),v.forEach((function(e){if(e){var t=e.match(/(<br>)(.*)/);r.push(c,t[2],"</div></div>")}})),m&&r.push(c,m[1],"</div></div>")):f?(r.push(c,f[1],"</div></div>"),m&&r.push(c,m[1],"</div></div>")):p&&r.push(c,p[1],"</div></div>");var g=r.flat(1/0).join("").replace(/<div class="tlk-bubble-holder"><div class="tlk-bubble"><\/div><\/div>/g,"");a.innerHTML=g,n.value=g,o.value=t.innerHTML})),""!=t.value&&'<div class="tlk-bubble-holder"></div>'!=t.value||(a.innerHTML="<p>Your message preview will appear here.</p>")}),250)}))}))},z=document.querySelector("#create-spkr-user-edit-form-btn"),G=document.querySelector("#create-spkr-user-edit-form"),F=function(){if('Leave Your Details &nbsp;<i class="fas fa-pencil-alt"></i>'==z.innerHTML){z.innerText="Close"}else if('Update Your Details &nbsp;<i class="fas fa-pencil-alt"></i>'==z.innerHTML){z.innerText="Close"}else z.classList.contains("leave-class")?z.innerHTML='Leave Your Details &nbsp;<i class="fas fa-pencil-alt"></i>':z.innerHTML='Update Your Details &nbsp;<i class="fas fa-pencil-alt"></i>'},J=document.querySelector("#tlk-toggle-edit"),K=document.querySelectorAll(".tlk-toggle-edit"),Q=document.querySelector("#tlk-section-edit"),V=document.querySelector("#tlk-section-read"),W=function(){"Edit Your Details / Log Out"==J.innerText?(J.innerText="Exit Edit Mode",J.classList.add("edit-mode-on")):(J.innerText="Edit Your Details / Log Out",J.classList.remove("edit-mode-on"))},X=document.querySelectorAll(".trix-content"),Z=new Event("keyup"),ee=document.querySelectorAll(".spkr-color-show-more"),te=function(){ee.forEach((function(e){var t=e.getAttribute("target");e.addEventListener("click",(function(n){document.querySelector("#".concat(t)).classList.toggle("spkr-color-scroll-short"),"See more colors..."==e.innerText?e.innerText="See less":e.innerText="See more colors..."}))}))},ne=document.querySelectorAll(".auto-tweet"),oe=function(){ne.forEach((function(e){e.querySelector(".auto-tweet-checkbox").addEventListener("click",(function(t){e.classList.toggle("auto-tweet-on"),e.classList.toggle("auto-tweet-off");var n=e.id;if(e.classList.contains("auto-tweet-on")){document.querySelector('[target="'.concat(n,'"]')).value=!0;var o=e.querySelector('[target="submit-'.concat(n,'"]')),c=e.querySelector(".example-tweet"),a=encodeURIComponent(c.innerText);console.log(a),o.addEventListener("click",(function(e){window.open("https://twitter.com/intent/tweet?original_referer=yoururl.com&source=tweetbutton&text=".concat(a))}))}if(e.classList.contains("auto-tweet-off")){document.querySelector('[target="'.concat(n,'"]')).value=!1;var r=o=e.querySelector('[target="submit-'.concat(n,'"]')),i=r.cloneNode(!0);r.parentNode.replaceChild(i,r)}}));var t=e.id;if(e.classList.contains("auto-tweet-on")){var n=e.querySelector('[target="submit-'.concat(t,'"]')),o=e.querySelector(".example-tweet"),c=encodeURIComponent(o.innerText);console.log(c),n.addEventListener("click",(function(e){window.open("https://twitter.com/intent/tweet?original_referer=yoururl.com&source=tweetbutton&text=".concat(c))}))}}))},ce=document.querySelector("#meta").content;"tlks-show-edit"==ce&&(l(),u.forEach((function(e){e.addEventListener("click",(function(t){var n=e.getAttribute("target");d(n),document.execCommand("copy"),e.style="color: #00CD4B;"}))})),m(),M(),L(),p(),j(),P(),B(),U(),N(),y(),te(),oe()),"tlks-show-invited"==ce&&(k.forEach((function(e){e.addEventListener("click",(function(e){o(b),o(q),o(E),o(T)}))})),S.forEach((function(e){e.addEventListener("click",(function(e){o(b),o(q),o(E),o(T)}))}))),"tlks-show-spkr"==ce&&(l(),m(),p(),M(),L(),j(),P(),B(),N(),U(),y(),te(),oe()),"tlks-index"==ce&&function(){var e=document.querySelector("#index-what-btn"),t=document.querySelector("#index-background-color"),n=document.querySelector("#tlk-intro-container");document.querySelector(".index-border-btm-container");e.addEventListener("click",(function(o){if("Learn More"==e.innerHTML?(e.classList.add("got-it-mode-on"),e.classList.remove("edit-mode-on"),e.innerHTML="Got It"):(e.classList.add("edit-mode-on"),e.classList.remove("got-it-mode-on"),e.innerHTML="Learn More"),n.classList.contains("index-hide-intro")){n.classList.remove("index-hide-intro");var c=document.querySelector("#bubble-390");c.clientHeight>60&&(c.style="max-width: 264px;"),t.classList.add("index-background-color-big"),t.classList.remove("index-background-color-small")}else n.classList.add("index-hide-intro"),t.classList.add("index-background-color-small"),t.classList.remove("index-background-color-big")}))}(),"tlks-new"==ce&&(L(),m(),p(),U(),z.addEventListener("click",(function(e){F(),o(G)}))),"users-show-edit"==ce&&(K.forEach((function(e){e.addEventListener("click",(function(e){W(),o(Q),o(V)}))})),U()),"msgs-edit-edit"==ce&&(N(),console.log("hello"),X.forEach((function(e){setTimeout((function(){e.dispatchEvent(Z)}),50)})),j())}});
//# sourceMappingURL=on_new_page-72c58be62c1dcc8a1a70.js.map